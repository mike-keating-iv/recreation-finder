---
title: "Test RIDB API"
format: html
Author: Mike Keating
---

The purpose of this Quarto document is to simply test ridb api functions in an interactive way.

```{r}
key <- Sys.getenv("RIDB_API_KEY")
library(shiny)


```

```{r}
# 
source("ridb_api_functions.R")

facs<- get_facilities(state = "NC")
```

```{r}

#table(facilities$FacilityTypeDescription, facilities$ParentOrgID)
facs

# flatten the activity column
#facs$ACTIVITY <- sapply(facs$ACTIVITY, function(x) as_tibble(x))
facs$CAMPSITE
#facs
```

```{r}
adds <- get_addresses_for_facility("10000305")
#camps$ATTRIBUTES[1]
adds
```

```{r}
geocode_zip("27701")
```

```{r}

# Testing code to run app
runGitHub(
  repo = "recreation-finder",        
  username = "mike-keating-iv",
  subdir = "RecreationFinder",
  ref = "main"              
)
```
